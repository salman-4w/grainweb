<%= stateful_ui current_user, :contract_amendments_grid %>

<% render_grid url: contract_amendments_path(@contract),
               klass: ContAmend,
               items_title: "contract amendments",
               size: "780x440",
               html: {id: "contract_amendments_grid"},
               print_button: true,
               search_bar: true do %>
  bbar: [
    pagingBar_for_contract_amendments_grid,
    '-',
    {
      text: 'Amendment Report',
      handler: printContractAmendmentReport.createCallback('<%= @contract.id %>')
    }
  ],
<% end -%>
<script type="text/javascript" charset="utf-8">
resizeGrid(grid_for_contract_amendments_grid, <%= @contract.id %>);

var newWidth = windows[<%= @contract.id %>].getSize().width - 150;
pagingBar_for_contract_amendments_grid.setSize(newWidth);
</script>
